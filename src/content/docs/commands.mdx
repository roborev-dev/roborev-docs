---
title: Command Cheat Sheet
description: Quick reference for all roborev commands and flags
---

<video src="/cli-help.webm" autoplay muted loop playsinline />

## Essentials

```bash
roborev init [--agent <name>]    # Initialize repo + daemon + hook
                                 # --no-daemon: skip auto-starting daemon
roborev fix                      # Address unaddressed reviews
roborev status                   # Check daemon and queue
roborev tui                      # Interactive terminal UI
roborev version                  # Show version
```

## Reviewing Code

```bash
# Single commits
roborev review                   # Review HEAD
roborev review <sha>             # Review specific commit

# Commit ranges
roborev review <start> <end>     # Review range (inclusive)
roborev review --since <commit>  # Review since commit (exclusive)
roborev review --since HEAD~5    # Review last 5 commits

# Branch reviews
roborev review --branch          # All commits since diverged from main
roborev review --branch=feature-xyz     # Review a specific branch
roborev review --branch --base develop  # Against specific base

# Uncommitted changes
roborev review --dirty           # Review working tree
roborev review --dirty --wait    # Wait for result

# Review types
roborev review --type security   # Security-focused review
roborev review --type design     # Design-focused review
```

| Flag | Description |
|------|-------------|
| `--wait` | Wait for review to complete and display result |
| `--quiet` | Only show progress/elapsed time |
| `--branch [name]` | Review all commits on branch since base (optionally specify branch name) |
| `--base <branch>` | Base branch for `--branch` comparison (default: auto-detect) |
| `--agent <name>` | Use specific agent for review |
| `-m, --model <model>` | Model to use (format varies by agent) |
| `--type <type>` | Review type (`security`, `design`) â€” changes system prompt |
| `--reasoning <level>` | Set reasoning depth (`thorough`/`standard`/`fast`) |
| `--fast` | Shorthand for `--reasoning fast` |
| `--local` | Run review locally without the daemon (streams output to console) |
| `--repo <path>` | Specify repository path |

See: [Reviewing Code](/guides/reviewing-code/)

## Waiting for Reviews

```bash
roborev wait                     # Wait for most recent job for HEAD
roborev wait abc123              # Wait for most recent job for commit
roborev wait 42                  # Job ID (if "42" is not a valid git ref)
roborev wait --job 42            # Force as job ID
roborev wait --sha HEAD~1        # Wait for job matching HEAD~1
roborev wait --quiet             # Suppress output (for hooks/agents)
```

| Flag | Description |
|------|-------------|
| `--sha <ref>` | Git ref to find the most recent job for |
| `--job` | Force argument to be treated as job ID |
| `-q, --quiet` | Suppress output (exit code only) |

Unlike `roborev review --wait`, this does not enqueue a new review. It waits for an already-running job, making it useful when a post-commit hook has already triggered the review.

See: [Reviewing Code](/guides/reviewing-code/)

## Viewing Reviews

```bash
roborev show                     # Show review for HEAD
roborev show <sha>               # Show review for commit
roborev show <job_id>            # Show review by job ID
roborev show --job <id>          # Force interpretation as job ID
roborev show --prompt <job_id>   # Show the prompt sent to the agent
roborev tui                      # Interactive browser
roborev log <job_id>             # View job log
```

| Flag | Description |
|------|-------------|
| `--job` | Force interpretation as job ID |
| `--prompt` | Show the prompt sent to the agent instead of the review output |
| `--json` | Output as JSON for machine-readable workflows |

See: [Terminal UI](/integrations/tui/)

:::tip
Press `l` in the TUI to open the log viewer for any job (running or completed).
:::

## Job Logs

```bash
roborev log <job-id>             # Human-friendly rendered output
roborev log --raw <job-id>       # Raw NDJSON bytes
roborev log --path <job-id>      # Print the log file path

roborev log clean                # Remove logs older than 7 days
roborev log clean --days 3       # Remove logs older than 3 days
```

| Flag | Description |
|------|-------------|
| `--raw` | Print raw NDJSON without formatting |
| `--path` | Print the log file path instead of contents |

Job logs are persisted to `~/.roborev/logs/jobs/` so agent output remains available after daemon restarts. By default, `roborev log` renders NDJSON into compact, human-readable progress lines showing tool calls and agent text. Use `--raw` for the original NDJSON when scripting or debugging.

The `clean` subcommand removes log files older than the specified number of days (default: 7).

## Commenting on Reviews

```bash
roborev comment <job_id> "message"   # Add comment with message
roborev comment <job_id>             # Opens editor
roborev address <job_id>             # Mark as addressed
roborev address <job_id> --unaddress # Mark as unaddressed
```

| Flag | Description |
|------|-------------|
| `--message, -m` | Comment message (inline) |
| `--commenter` | Name of commenter |
| `--job` | Force interpretation as job ID |

See: [Responding to Reviews](/guides/responding-to-reviews/)

## Auto-Fix Agentic Loop

```bash
roborev refine                   # Fix failed reviews on branch
roborev refine --max-iterations 5
roborev refine --since HEAD~3    # Refine specific range
roborev refine --quiet           # Show elapsed time only
roborev refine --list            # Preview what would be refined
roborev refine --all-branches    # Refine all branches with failures
roborev refine --branch feature  # Validate branch before refining
```

| Flag | Description |
|------|-------------|
| `--agent <name>` | Use specific agent |
| `-m, --model <model>` | Model to use (format varies by agent) |
| `--reasoning <level>` | Set reasoning depth |
| `--fast` | Shorthand for `--reasoning fast` |
| `--max-iterations <n>` | Limit fix attempts (default: 10) |
| `--since <commit>` | Refine commits since specific commit |
| `--branch <name>` | Validate current branch before refining |
| `--all-branches` | Discover and refine all branches with failed reviews |
| `--list` | List failed reviews that would be refined without running |
| `--newest-first` | Process newest first (requires `--all-branches` or `--list`) |
| `--quiet` | Only show progress/elapsed time |
| `--allow-unsafe-agents` | Allow agents without sandboxing |

See: [Auto-Fix Agentic Loop with Refine](/guides/auto-fixing/)

## Fixing Reviews

```bash
roborev fix                        # Fix all unaddressed reviews on this branch
roborev fix 123                    # Fix a specific review by job ID
roborev fix 42 43 44               # Fix multiple reviews sequentially
roborev fix --batch                # Batch all unaddressed into one agent prompt
roborev fix --batch 42 43 44       # Batch specific jobs into one prompt
roborev fix --list                 # List unaddressed reviews without fixing
```

| Flag | Description |
|------|-------------|
| `--agent <name>` | Use specific agent |
| `-m, --model <model>` | Model to use |
| `--reasoning <level>` | Set reasoning depth |
| `--quiet` | Suppress agent output |
| `--unaddressed` | Fix all unaddressed reviews on branch (default when no job IDs given) |
| `--batch` | Concatenate multiple reviews into a single agent prompt instead of fixing one at a time |
| `--list` | List unaddressed reviews with details (job ID, ref, branch, agent, verdict) without running any fixes |

See: [Assisted Refactoring](/guides/assisted-refactoring/)

## Consolidating Reviews

```bash
roborev compact                              # Enqueue consolidation (background)
roborev compact --wait                       # Wait for completion
roborev compact --branch main                # Compact jobs on main branch
roborev compact --all-branches               # Compact jobs across all branches
roborev compact --dry-run                    # Show what would be done
roborev compact --limit 10                   # Process at most 10 jobs
roborev compact --agent claude-code          # Use specific agent for verification
roborev compact --reasoning thorough         # Use thorough reasoning level
```

| Flag | Description |
|------|-------------|
| `--wait` | Block until consolidation completes |
| `--branch <name>` | Filter by branch (default: current branch) |
| `--all-branches` | Compact jobs across all branches |
| `--dry-run` | Preview what would be done without running |
| `--limit <n>` | Maximum number of jobs to process (default: 20) |
| `--agent <name>` | Agent for verification |
| `-m, --model <model>` | Model to use |
| `--reasoning <level>` | Set reasoning depth (`thorough`/`standard`/`fast`) |
| `--timeout <duration>` | Timeout for `--wait` mode (default: 10m) |
| `--quiet` | Suppress progress output |

Compact discovers unaddressed completed reviews, sends them to an agent for verification against the current codebase, and consolidates related findings into a single review job. Original jobs are automatically marked as addressed when consolidation finishes. This adds a quality layer between `review` and `fix` to reduce false positives.

:::note
Avoid running multiple compact commands concurrently on the same branch. The operation is not atomic and concurrent runs can produce inconsistent state.
:::

## CI Review

```bash
roborev ci review                            # Auto-detect from GitHub Actions env
roborev ci review --ref HEAD~3..HEAD         # Explicit ref range
roborev ci review --gh-repo myorg/myrepo --pr 42  # Explicit repo and PR
roborev ci review --agent codex --agent gemini     # Multiple agents
roborev ci review --comment                  # Post results as PR comment
```

| Flag | Description |
|------|-------------|
| `--ref <range>` | Git ref or range to review (default: auto-detect from `GITHUB_REF`) |
| `--comment` | Post results as a PR comment via `gh` |
| `--gh-repo <owner/repo>` | GitHub repo (default: `GITHUB_REPOSITORY` env var) |
| `--pr <number>` | PR number (default: extracted from `GITHUB_EVENT_PATH`) |
| `--agent <names>` | Agents to use (repeatable, default: auto-detect) |
| `--review-types <types>` | Review types to run (comma-separated: `security`, `design`, `default`) |
| `--reasoning <level>` | Reasoning depth (`thorough`/`standard`/`fast`) |
| `--min-severity <level>` | Minimum severity to report (`low`/`medium`/`high`/`critical`) |
| `--synthesis-agent <name>` | Agent for combining multi-job results |

Runs a one-shot review without a daemon or database. Designed for CI pipelines where you want review results as part of the build, not as a background service.

In GitHub Actions, `ci review` auto-detects `GITHUB_REPOSITORY`, `GITHUB_REF`, and `GITHUB_EVENT_PATH` so you can run it with no flags. Outside GitHub Actions, pass `--gh-repo` and `--ref` explicitly.

Exit codes: `0` on success or when all agents were skipped due to quota exhaustion, non-zero on real failures.

See: [GitHub Integration](/integrations/github/)

## GitHub Actions Setup

```bash
roborev init gh-action                          # Generate workflow file
roborev init gh-action --agent codex            # Specify agents
roborev init gh-action --output .github/workflows/review.yml
roborev init gh-action --force                  # Overwrite existing
roborev init gh-action --roborev-version 0.34.0 # Pin version
```

| Flag | Description |
|------|-------------|
| `--agent <names>` | Agents to include in the workflow (repeatable) |
| `--output <path>` | Output path (default: `.github/workflows/roborev.yml`) |
| `--force` | Overwrite an existing workflow file |
| `--roborev-version <ver>` | Pin roborev version in the workflow (default: latest) |

Generates a GitHub Actions workflow that:
1. Checks out the repository
2. Downloads and installs roborev with SHA256 verification
3. Runs `roborev ci review --comment` on each PR
4. Posts review results as PR comments

Agent API keys are read from repository secrets (e.g. `ANTHROPIC_API_KEY` for Claude Code, `OPENAI_API_KEY` for Codex). Add the required secrets in your repository's Settings > Secrets and variables > Actions.

See: [GitHub Integration](/integrations/github/)

## Code Analysis

```bash
roborev analyze test-fixtures internal/*_test.go   # Run built-in analysis
roborev analyze refactor --fix ./...               # Analyze and auto-fix
roborev analyze complexity --per-file src/*.go      # One job per file
roborev analyze refactor --branch                  # Analyze changed files on branch
roborev analyze refactor --branch=feature-xyz      # Analyze a specific branch
roborev analyze --list                             # List analysis types
```

| Flag | Description |
|------|-------------|
| `--agent <name>` | Use specific agent |
| `-m, --model <model>` | Model to use |
| `--reasoning <level>` | Set reasoning depth |
| `--wait` | Wait for completion and display result |
| `--quiet` | Suppress output |
| `--branch [name]` | Analyze files changed on branch (optionally specify branch name) |
| `--base <branch>` | Base branch for `--branch` comparison (default: auto-detect) |
| `--per-file` | One analysis job per file |
| `--fix` | Analyze then apply fixes automatically |
| `--fix-agent <name>` | Agent for fix step |
| `--json` | Output job info as JSON |
| `--list` | List available analysis types |
| `--show-prompt <type>` | Show prompt template |

See: [Assisted Refactoring](/guides/assisted-refactoring/)

## Custom Agent Tasks

```bash
roborev run "Explain the architecture"
roborev run --wait "Review src/auth/ for security issues"
roborev run "Find simplification opportunities in src/utils/"
roborev run --agentic "Add input validation to all endpoints"
cat review-checklist.txt | roborev run --wait
```

| Flag | Description |
|------|-------------|
| `--wait` | Wait for completion and display result |
| `--quiet` | Only show progress/elapsed time |
| `--agent <name>` | Use specific agent |
| `--reasoning <level>` | Set reasoning depth |
| `--agentic, --yolo` | Enable agentic mode (can modify files) |
| `--no-context` | Don't include repository context |
| `--label <string>` | Custom label displayed in TUI (default: `run`) |

See: [Custom Agent Tasks](/guides/custom-tasks/)

## Configuration

```bash
roborev config get <key>             # Get value (merged: local then global)
roborev config get <key> --global    # Get from global config only
roborev config get <key> --local     # Get from repo config only

roborev config set <key> <value>     # Set in repo config (default)
roborev config set <key> <value> --global  # Set in global config

roborev config list                  # List merged config
roborev config list --show-origin    # Show where each value comes from
```

| Flag | Description |
|------|-------------|
| `--global` | Use global config (`~/.roborev/config.toml`) |
| `--local` | Use repo config (`.roborev.toml`) |
| `--show-origin` | Show origin column (global/local/default) in list output |

See: [Configuration](/configuration/)

## Repository Management

```bash
roborev repo list                # List all repos
roborev repo show <name>         # Show repo details
roborev repo rename <old> <new>  # Rename display name
roborev repo delete <name>       # Remove from tracking
roborev repo merge <src> <dst>   # Merge reviews between repos
```

See: [Repository Management](/guides/repository-management/)

## Daemon & Hooks

```bash
roborev daemon start             # Start background daemon
roborev daemon stop              # Stop daemon
roborev daemon restart           # Restart daemon
roborev daemon run               # Run in foreground

roborev install-hook             # Install post-commit hook
roborev install-hook --force     # Overwrite existing hook with a fresh one
roborev uninstall-hook           # Remove hook
```

| Flag | Description |
|------|-------------|
| `--force` | Overwrite an existing post-commit hook with a fresh one |

:::tip[Broken post-commit hook?]
If your post-commit hook was corrupted during a previous upgrade (e.g. a stray `fi` or missing lines), run:
```bash
roborev install-hook --force
```
This replaces the hook entirely with a known-good version.
:::

## Checking Agents

```bash
roborev check-agents                # Smoke-test all installed agents
roborev check-agents --agent codex  # Test a specific agent
roborev check-agents --timeout 30   # Set timeout per agent (seconds)
```

| Flag | Description |
|------|-------------|
| `--agent <name>` | Test only this agent |
| `--timeout <secs>` | Timeout per agent (default: 60) |

## Agent Skills

```bash
roborev skills install           # Install skills for agents
roborev skills update            # Update installed skills
```

See: [Agent Skills](/guides/agent-skills/)

## Sync & Streaming

```bash
roborev sync status              # Show PostgreSQL sync status
roborev sync now                 # Trigger immediate sync

roborev stream                   # Stream all events (JSONL)
roborev stream --repo .          # Filter to current repo
```

See: [PostgreSQL Sync](/guides/postgres-sync/), [Event Streaming](/integrations/streaming/)

## Global Flags

These flags work across most commands:

| Flag | Description |
|------|-------------|
| `--server <addr>` | Daemon address (default: `http://127.0.0.1:7373`) |
| `-v, --verbose` | Verbose output |

## Update

```bash
roborev update                   # Update to latest version
roborev update --force           # Force update (useful for dev builds)
```
