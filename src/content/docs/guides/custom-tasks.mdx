---
title: Custom Agent Tasks
description: Run custom AI tasks beyond automatic code review
---

Use `roborev run` to execute custom tasks with AI agents. While automatic reviews focus on commits, `run` lets you target specific files, ask questions, or perform targeted analysis.

:::tip
For common analysis tasks like finding duplication, reducing complexity, or identifying dead code, see [Assisted Refactoring](/guides/assisted-refactoring/). The `roborev analyze` command provides built-in prompts for these use cases and can automatically apply fixes.
:::

```bash
roborev run "Review src/auth.go for security issues"
roborev run --wait "Find simplification opportunities in this codebase"
roborev run --agentic "Add input validation to the user controller"
```

## Use Cases

### Targeted File Reviews

Review specific files for particular concerns:

```bash
# Security review
roborev run "Review src/auth/ for security vulnerabilities"
roborev run "Check database queries in src/db/ for SQL injection"

# Simplification opportunities
roborev run "Find opportunities to simplify src/handlers/user.go"
roborev run "Identify dead code or unused functions in src/utils/"

# Refactoring candidates
roborev run "Suggest refactoring opportunities in src/api/"
roborev run "Find code duplication in src/services/"
```

### Code Analysis

Ask questions about architecture and design:

```bash
roborev run "Explain the authentication flow in this codebase"
roborev run "What design patterns are used here?"
roborev run "Document the main entry points of this application"
roborev run "List all external API dependencies"
```

### Custom Review Criteria

Apply specific review criteria beyond the default review:

```bash
roborev run "Review recent changes for OWASP Top 10 vulnerabilities"
roborev run "Check for proper error handling in src/api/"
roborev run "Verify all database connections are properly closed"
roborev run "Find functions exceeding 50 lines"
```

### Making Changes (Agentic Mode)

Use `--agentic` to allow file modifications:

```bash
roborev run --agentic "Add comprehensive error handling to main.go"
roborev run --agentic "Refactor database layer to use connection pooling"
roborev run --agentic "Add input validation to all API endpoints"
roborev run --agentic "Convert callback-style code to async/await"
```

### Piped Input

Pipe complex prompts or instructions from files:

```bash
echo "Add comprehensive error handling" | roborev run --agentic --wait
cat review-checklist.txt | roborev run --wait
```

## Flags

| Flag | Description |
|------|-------------|
| `--wait` | Wait for task to complete and show result |
| `--agent` | Agent to use (default: from config) |
| `--reasoning` | Reasoning level: `fast`, `standard`, or `thorough` |
| `--no-context` | Don't include repository context in prompt |
| `--agentic` | Enable agentic mode (allow file edits and commands) |
| `--yolo` | Alias for `--agentic` |
| `--quiet` | Suppress output (just enqueue) |

## Review vs Agentic Mode

By default, tasks run in **review mode** (read-only). Use `--agentic` to enable write operations.

| Mode | Tools Available | Use Case |
|------|-----------------|----------|
| Review (default) | Read, Glob, Grep | Analysis, explanations, finding issues |
| Agentic | Read, Glob, Grep, Edit, Write, Bash | Refactoring, implementing features, fixes |

## Repository Context

By default, tasks include context about the repository:
- Repository name and path
- Any project guidelines from `.roborev.toml`

Use `--no-context` for raw prompts without this context.

## Tips

- Use `--wait` to see results immediately in the terminal
- Use `--reasoning thorough` for security-sensitive analysis
- Combine with `roborev tui` to review task results later
- Tasks appear in the TUI alongside commit reviews

## See Also

- [Agent Modes](/agents/modes/) - Details on review vs agentic modes
- [Assisted Refactoring](/guides/assisted-refactoring/) - Built-in analysis types with `roborev analyze` and `roborev fix`
- [Auto-Fixing](/guides/auto-fixing/) - Automated issue resolution
- [Terminal UI](/integrations/tui/) - View task results
