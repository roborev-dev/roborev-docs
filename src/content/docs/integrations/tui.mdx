---
title: Terminal UI (TUI)
description: Interactive terminal interface for viewing and managing reviews
---

import Screenshot from '../../../components/Screenshot.astro';

The interactive terminal UI (`roborev tui`) provides a real-time view of the review queue.

```bash
roborev tui                         # Open TUI
roborev tui --repo                  # Pre-filter to current repo
roborev tui --repo --branch         # Pre-filter to current repo + branch
roborev tui --repo=/path/to/repo    # Pre-filter to specific repo
roborev tui --branch=feature-x      # Pre-filter to specific branch
```

| Flag | Description |
|------|-------------|
| `--repo [path]` | Lock filter to a repo. Without a value, resolves to the current repo. |
| `--branch [name]` | Lock filter to a branch. Without a value, resolves to the current branch. |

When set via flags, the filter is locked and cannot be changed in the TUI. This is useful for side-by-side working when you want to focus on a specific repo or branch.

## Queue View

<Screenshot src="/tui-queue.svg" alt="roborev TUI queue view" />

| Key | Action |
|-----|--------|
| `Up`/`k`, `Down`/`j` | Navigate jobs |
| `PgUp`, `PgDn` | Page through list |
| `Enter` | View review |
| `l` | View job log |
| `p` | View prompt |
| `m` | View commit message |
| `a` | Toggle addressed |
| `c` | Add comment |
| `y` | Copy review to clipboard |
| `x` | Cancel running/queued job |
| `r` | Rerun completed/failed/canceled job |
| `F` | Launch fix job (completed reviews) |
| `T` | Switch to Tasks view |
| `f` | Open filter (repo/branch tree) |
| `b` | Open filter with branches expanded |
| `h` | Toggle hide addressed/failed/canceled |
| `D` | Toggle distraction-free mode |
| `g` | Jump to top of queue |
| `?` | Show all commands |
| `Esc` | Clear filters (one layer at a time) |
| `q` | Quit |

## Log View

Press `l` from the queue view, review view, or prompt view to open the log viewer. For running jobs, the view streams live output as it arrives. Logs are persisted to disk, so they remain available after the job completes and across daemon restarts.

| Key | Action |
|-----|--------|
| `Up`/`k`, `Down`/`j` | Scroll output |
| `PgUp`, `PgDn` | Page through output |
| `Home` | Jump to top |
| `End` | Jump to bottom (enables follow mode) |
| `g` | Toggle between top and bottom |
| `Left`, `Right` | Previous/next job log |
| `x` | Cancel running job |
| `?` | Show all commands |
| `Esc`, `q` | Back to previous view |

The log view features:

- **Follow mode**: When a job is still running, the view polls for new output and auto-scrolls to the bottom. Scrolling up disables follow mode; pressing `End` or `g` re-enables it.
- **Incremental fetching**: Only new bytes since the last fetch are downloaded, keeping the view responsive for long-running jobs.
- **Formatted output**: NDJSON agent output is rendered as compact progress lines showing tool calls (file reads, edits, bash commands) with a gutter prefix for visual grouping.

Logs are stored in `~/.roborev/logs/jobs/` and can also be viewed from the CLI with `roborev log <job-id>`. Use `roborev log clean` to remove old log files.

## Filtering

Press `f` to open the unified filter view, which shows repos as a tree with expandable branch children. Press `b` to open the filter with branches already expanded for the most relevant repo (active filter > current directory > first repo).

| Key | Action |
|-----|--------|
| `Up`/`k`, `Down`/`j` | Navigate tree |
| `Right` | Expand repo to show branches |
| `Left` | Collapse repo (works during search too) |
| `Enter` | Apply selected filter |
| Type text | Search repos and branches |
| `Backspace` | Delete search character |
| `Esc` | Close filter |

Branches are lazy-loaded: they fetch from the daemon when you expand a repo or type a search. Searching triggers background branch loads for all repos so matches include branches you haven't expanded yet.

The current working directory's repo sorts to the top of the tree, and its current branch sorts to the top of that repo's branch list.

To start the TUI with addressed items already hidden, set `hide_addressed_by_default = true` in `~/.roborev/config.toml`. To auto-filter to the current repository on startup, set `auto_filter_repo = true`. See [Configuration](/configuration/) for details.

Pressing `h` toggles the hide-addressed filter for the current session without changing the config.

`Esc` clears filters one layer at a time in the order they were applied. Press `h` again to toggle hide-addressed off directly.

## Distraction-Free Mode

Press `D` in the queue view to toggle distraction-free mode. This hides the status line, table header, scroll indicator, and help footer, leaving only the title and the job list. Useful for focusing on reviews when screen space is limited.

The same compact layout activates automatically when the terminal height is below 15 rows.

## Review View

Press `Enter` on a job to view its review.

<Screenshot src="/tui-review.svg" alt="roborev TUI review detail view" />

| Key | Action |
|-----|--------|
| `Up`/`k`, `Down`/`j` | Scroll content |
| `Left`/`h`, `Right`/`l` | Previous/next review (loads more if at end) |
| `PgUp`, `PgDn` | Page through content |
| `a` | Toggle addressed |
| `c` | Add comment |
| `y` | Copy review to clipboard |
| `x` | Cancel running/queued job |
| `r` | Rerun completed/failed/canceled job |
| `F` | Open inline fix panel |
| `l` | View job log |
| `p` | Switch between review/prompt |
| `m` | View commit message |
| `?` | Show all commands |
| `Esc`, `q` | Back to queue |

## Fix Jobs

Press `F` on a completed review to open the inline fix panel at the bottom of the review view. You can optionally type custom instructions for the fix agent, or leave it blank for defaults. Press `Enter` to submit, `Esc` to cancel.

While the fix panel is open, `Tab` toggles focus between the review content (for scrolling) and the fix input. The panel border is magenta when focused and gray when inactive.

From the queue view, pressing `F` fetches the review and opens the fix panel in one step.

The fix runs in an isolated git worktree checked out at the reviewed commit (not HEAD), so the patch is always generated against the correct revision. This prevents conflicts when the working tree has moved on since the review.

Results appear in the Tasks view (`T`). While the fix runs, you can continue browsing reviews normally.

## Tasks View

Press `T` from the queue view to switch to the Tasks view, which shows all fix jobs and their status.

| Key | Action |
|-----|--------|
| `Up`/`k`, `Down`/`j` | Navigate tasks |
| `Enter` / `l` | View output (live for running, result for done, error for failed) |
| `p` | View patch diff |
| `A` | Apply patch to working tree |
| `R` | Re-run fix against current HEAD (rebase) |
| `x` | Cancel queued/running job |
| `r` | Refresh task list |
| `T` / `Esc` | Return to queue |
| `?` | Toggle help |

The Tasks view also supports mouse interactions: click a task to select it, or double-click to view its output.

## Applying and Rebasing Patches

Press `A` on a completed fix job to apply the generated patch and commit it to your working tree. The parent review is automatically marked as addressed when the patch is applied.

If the patch conflicts with the current state of your working tree (e.g. because new commits landed after the review), roborev offers to re-run the fix against current HEAD. Press `R` to trigger a rebase: the agent receives the original patch as context and produces a new patch targeting the current code.

## Prompt View

Press `p` from the queue view or review view to see the prompt that was sent to the agent, along with the command line used to invoke it.

| Key | Action |
|-----|--------|
| `Up`/`k`, `Down`/`j` | Scroll content |
| `Left`/`h`, `Right`/`l` | Previous/next prompt |
| `PgUp`, `PgDn` | Page through content |
| `p` | Switch between prompt/review |
| `?` | Show all commands |
| `Esc`, `q` | Back to queue |

The prompt header shows the job ID, git ref, and agent. Below the header, the command line used to run the agent is displayed (truncated to terminal width if needed).

## Copying Reviews

Press `y` to copy the review content to your clipboard. This works from both the queue view (on completed jobs) and the review detail view.

<Screenshot src="/tui-copy.svg" alt="roborev TUI copy review to clipboard" />

The copied content includes a metadata header for reference:

```
Review #42 /path/to/repo abc1234
[review content...]
```

A "Copied to clipboard" message confirms the action. The primary use case is pasting the review into an AI coding agent session (like Claude Code) to address the findings. Other uses include sharing with teammates, pasting into issue trackers, or including in PR descriptions.

## Viewing Commit Messages

Press `m` from either the queue view or review detail view to see the full commit message for the selected job. This is useful for understanding the context of the changes being reviewed.

## Keyboard Commands

Press `?` at any time to toggle the commands overlay. This displays all available shortcuts for the current view.

<Screenshot src="/tui-help.svg" alt="roborev TUI keyboard commands" />

## Review Screen Layout

The review detail view shows:

```
Review #42 myrepo (codex: claude-sonnet-4-5-20250929)
/path/to/repo abc1234 on feature-branch
Verdict: Pass [ADDRESSED]
```

- **Line 1**: Review identity - job ID, repo name, agent and model (if explicitly configured)
- **Line 2**: Location - repo path, git ref, branch
- **Line 3**: Status - verdict and addressed state

## Verdicts

Reviews display a **Verdict** (Pass/Fail) parsed from the AI response:

- **Pass** (green): Code review passed with no issues
- **Fail** (red): Issues found that need attention

## Rich Markdown Rendering

Reviews and prompts are rendered with full Markdown formatting directly in the terminal. Code blocks display with syntax highlighting, and headings, lists, bold, italic, and inline code all render with appropriate styling.

Code blocks are displayed without word-wrapping â€” long lines are truncated to the terminal width so diffs and code snippets stay readable. Prose text outside code blocks is word-wrapped naturally.

### Tab Width

Tabs in code blocks are expanded to spaces for consistent display. The default width is 2 spaces. To change it, set `tab_width` in `~/.roborev/config.toml`:

```toml
tab_width = 4  # Expand tabs to 4 spaces (default: 2, range: 1-16)
```

### Terminal Escape Sanitization

Review content from AI agents is sanitized before display. Color and style codes (SGR) are preserved, but potentially harmful escape sequences (cursor movement, terminal title changes, screen clearing) are stripped. This prevents untrusted content from interfering with your terminal.

## Adaptive Colors

The TUI automatically adapts to light and dark terminals. Colors are selected based on your terminal's background to ensure readability in both environments.

## Version Mismatch Warning

If the TUI binary version differs from the running daemon version, a persistent red banner displays at the top of the screen. This prevents confusing behavior from stale binaries (common in post-commit hooks). Restart the daemon with `roborev daemon restart` to resolve.

## Workflow

1. Run `roborev tui` to open the interface
2. Navigate to reviews needing attention
3. Press `Enter` to view full review
4. Address the findings in your code
5. Press `a` to mark as addressed
6. Use `h` to hide addressed items

## See Also

- [Commands Reference](/commands/): Full command list
- [Responding to Reviews](/guides/responding-to-reviews/): Add comments to reviews
- [Event Streaming](/integrations/streaming/): Programmatic access to events
